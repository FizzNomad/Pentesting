import os

while True:
    print("Please select an option:")
    print("1. Run NMAP")
    print("2. Dig google.com")
    print("3. Print working directory")
    print("4. Execute ~/newclient.sh in new terminal")
    print("5. Make a mental note")
    print("6. Report it!")
    print("7. List Findings")
    print("8. Quit")

    option = input()

    if option == "1":
        target = input("Enter target IP or subnet range: ")
        clientname = input("Enter client name: ")
        scantype_option = input("Select scan type:\n1. SYN scan (-sS)\n2. Version scan (-sV)\n")

        if scantype_option == "1":
            scantype = "-sS"
        elif scantype_option == "2":
            scantype = "-sV"
        else:
            print("Invalid option")
            continue

        filename = f"{clientname}-{target.replace('/', '-')}{scantype}"
        os.system(f"sudo nmap {scantype} -p- --open {target} -oA {filename} -vvvvvv --stats-every 5s")
        print(f"Scan complete! Results saved to {filename}")
    elif option == "2":
        os.system("dig google.com")
        save = input("Do you want to save the results to a file? (y/n)\n")
        if save == "y":
            filename = input("Enter filename: ")
            os.system(f"dig google.com > {filename}")
            print(f"Results saved to {filename}")
    elif option == "3":
        os.system("pwd")
    elif option == "4":
        os.system("x-terminal-emulator -e ~/newclient.sh")
    elif option == "5":
        if not os.path.exists("mental_notes"):
            os.mkdir("mental_notes")
        note_count = len(os.listdir("mental_notes")) + 1
        note_name = f"mental_note-{note_count:03}.txt"
        note_path = os.path.join("mental_notes", note_name)
        print("Type your mental note (press Ctrl+D to finish):")
        with open(note_path, "w") as f:
            f.write(input())
        print(f"Note saved to {note_path}")
    elif option == "6":
        if not os.path.exists("findings"):
            os.mkdir("findings")
        find_count = len(os.listdir("findings")) + 1
        name = input("Enter name for finding: ")
        comment = "".join(c if c.isalnum() else "_" for c in name)
        find_name = f"finding-{find_count:03}-{comment}"
        find_path = os.path.join("findings", f"{find_name}.txt")
        print("Please enter the details of your finding (press Ctrl+D to finish):")
        with open(find_path, "w") as f:
            f.write(f"# {comment}\n\n{input()}")
        print(f"Finding saved as '{comment}' in {find_path}")
    elif option == "7":
        print("List of findings:")
        print("\n".join(os.listdir("./findings")))
    elif option == "8":
        print("Goodbye!")
        exit(0)
    else:
        print("Invalid option")
