#!/bin/bash

exit_on_error() {
    exit_code=$1
    last_command=${@:2}
    if [ $exit_code -ne 0 ]; then
        >&2 echo "\"${last_command}\" command failed with exit code ${exit_code}."
	exit $exit_code
    fi
}

# enable !! command completion
set -o history -o histexpand

echo "##############################"
echo "#     Create a Client        #"
echo "##############################"

read -p "Please enter client name or code: " clientname
	mkdir -p ~/clients/$clientname/{screens,loot,notes,nessus,enum/{nmap,bloodhound,eyewitness,pcaps,metasploit},logs,cracking,reporting}

echo $clientname "Configuration complete," "Have fun storming the castle!"

echo "Syncronizing watches"
	sudo ntpd -q -g
echo "Welcome to the future."
